<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Interface ISayComponent
   | MonoAGS Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Interface ISayComponent
   | MonoAGS Documentation ">
    <meta name="generator" content="docfx 2.36.2.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="AGS.API.ISayComponent">
  
  
  <h1 id="AGS_API_ISayComponent" data-uid="AGS.API.ISayComponent" class="text-break">Interface ISayComponent
  </h1>
  <div class="markdown level0 summary"><p>A component which adds the ability to speak for an entity.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <a class="xref" href="AGS.API.IComponent.html#AGS_API_IComponent_Name">IComponent.Name</a>
    </div>
    <div>
      <a class="xref" href="AGS.API.IComponent.html#AGS_API_IComponent_Entity">IComponent.Entity</a>
    </div>
    <div>
      <a class="xref" href="AGS.API.IComponent.html#AGS_API_IComponent_RegistrationType">IComponent.RegistrationType</a>
    </div>
    <div>
      <a class="xref" href="AGS.API.IComponent.html#AGS_API_IComponent_Init_AGS_API_IEntity_System_Type_">IComponent.Init(IEntity, Type)</a>
    </div>
    <div>
      <a class="xref" href="AGS.API.IComponent.html#AGS_API_IComponent_AfterInit">IComponent.AfterInit()</a>
    </div>
    <div>
      <span class="xref">System.IDisposable.Dispose()</span>
    </div>
    <div>
      <span class="xref">System.ComponentModel.INotifyPropertyChanged.PropertyChanged</span>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="AGS.API.html">AGS.API</a></h6>
  <h6><strong>Assembly</strong>: AGS.API.dll</h6>
  <h5 id="AGS_API_ISayComponent_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[RequiredComponent(typeof(ITranslateComponent), false)]
[RequiredComponent(typeof(IHasRoomComponent), false)]
[RequiredComponent(typeof(IOutfitComponent), true)]
[RequiredComponent(typeof(IFaceDirectionComponent), true)]
public interface ISayComponent : IComponent, IDisposable, INotifyPropertyChanged</code></pre>
  </div>
  <h3 id="properties">Properties
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/tzachshabtay/MonoAGS/new/NewEntities/apiSpec/new?filename=AGS_API_ISayComponent_OnBeforeSay.md&amp;value=---%0Auid%3A%20AGS.API.ISayComponent.OnBeforeSay%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/tzachshabtay/MonoAGS/blob/NewEntities/Source/AGS.API/Objects/Characters/Talking/ISayComponent.cs/#L26">View Source</a>
  </span>
  <a id="AGS_API_ISayComponent_OnBeforeSay_" data-uid="AGS.API.ISayComponent.OnBeforeSay*"></a>
  <h4 id="AGS_API_ISayComponent_OnBeforeSay" data-uid="AGS.API.ISayComponent.OnBeforeSay">OnBeforeSay</h4>
  <div class="markdown level1 summary"><p>An event which allows you to manipulate the text label just before it is being rendered,
and to allow you to have a custom skip text implementation.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IBlockingEvent&lt;BeforeSayEventArgs&gt; OnBeforeSay { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="AGS.API.IBlockingEvent-1.html">IBlockingEvent</a>&lt;<a class="xref" href="AGS.API.BeforeSayEventArgs.html">BeforeSayEventArgs</a>&gt;</td>
        <td><p>The on before say.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/tzachshabtay/MonoAGS/new/NewEntities/apiSpec/new?filename=AGS_API_ISayComponent_SpeechConfig.md&amp;value=---%0Auid%3A%20AGS.API.ISayComponent.SpeechConfig%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/tzachshabtay/MonoAGS/blob/NewEntities/Source/AGS.API/Objects/Characters/Talking/ISayComponent.cs/#L19">View Source</a>
  </span>
  <a id="AGS_API_ISayComponent_SpeechConfig_" data-uid="AGS.API.ISayComponent.SpeechConfig*"></a>
  <h4 id="AGS_API_ISayComponent_SpeechConfig" data-uid="AGS.API.ISayComponent.SpeechConfig">SpeechConfig</h4>
  <div class="markdown level1 summary"><p>Gets the speech configuration.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">ISayConfig SpeechConfig { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="AGS.API.ISayConfig.html">ISayConfig</a></td>
        <td><p>The speech config.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/tzachshabtay/MonoAGS/new/NewEntities/apiSpec/new?filename=AGS_API_ISayComponent_SayAsync_System_String_System_Nullable_AGS_API_PointF__System_Nullable_AGS_API_PointF__.md&amp;value=---%0Auid%3A%20AGS.API.ISayComponent.SayAsync(System.String%2CSystem.Nullable%7BAGS.API.PointF%7D%2CSystem.Nullable%7BAGS.API.PointF%7D)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/tzachshabtay/MonoAGS/blob/NewEntities/Source/AGS.API/Objects/Characters/Talking/ISayComponent.cs/#L71">View Source</a>
  </span>
  <a id="AGS_API_ISayComponent_SayAsync_" data-uid="AGS.API.ISayComponent.SayAsync*"></a>
  <h4 id="AGS_API_ISayComponent_SayAsync_System_String_System_Nullable_AGS_API_PointF__System_Nullable_AGS_API_PointF__" data-uid="AGS.API.ISayComponent.SayAsync(System.String,System.Nullable{AGS.API.PointF},System.Nullable{AGS.API.PointF})">SayAsync(String, Nullable&lt;PointF&gt;, Nullable&lt;PointF&gt;)</h4>
  <div class="markdown level1 summary"><p>Say the specified text asynchronously.
This basically does the following:</p>
<ol>
<li>Puts text on the screen for some time</li>
<li>Change the character animation to the speaking animation</li>
<li>Optionally display a portrait of the character</li>
<li>Optionally play an audio clip
You can configure how the text is rendered (color, font, etc: see text rendering section for more on the all the options that you have for text rendering), when the text is skipped
(by time and how much, by mouse, both, or none which means you implement text skipping yourself), a label to host the text with a border(see the section about borders) and background color,
and a text offset to offset the location of the text.That offset will be relative to the default text display location which will be selected by the engine: The engine, by default, tries to place
the text above the character and a little to the side, unless the text won&apos;t fit the screen, then it changes the location to ensure the text fits the screen.
If you don&apos;t like that behavior you can implement your own text location by implementing the <a class="xref" href="AGS.API.ISayLocationProvider.html">ISayLocationProvider</a>  interface (and hooking it up, see the section about customizability).</li>
</ol>
<p>As for the portrait, you can configure the object which shows the portrait(this is a standard object, so it can has everything a normal object has, including animations, scaling, rotations, etc),
plus a strategy on where to position the portrait(SpeakerPosition- on the top, either left or right based on where the speaker is standing, Alternating- top right, then top left, then top right, etc
or Custom which leaves the portrait positioning to you) and custom offsets for both the portrait and for the text from the portrait.</p>
<p>In order to play an audio clip, the text you pass to the speech method should have a number at the beginning prefixed by an ampersand, for example, &quot;&amp;17 Hello there!&quot;.
If the number exists, the engine will look for an audio file with the first four capital letters of your character&apos;s id followed by the number. So if the line was said by &quot;Christopher&quot;,
the engine will look for the file &quot;CHRI17&quot;. Those files should be placed in a special folder, under Assets -&gt; Speech -&gt; English.
Note: In future revisions we&apos;re planning on introducing multi-language support, and also other ways of building the speech &quot;database&quot;.
If the engine does not find the file it will not play an audio clip, and in any way the &quot;&amp;17&quot; will be stripped away from the text and will not be displayed on screen. </p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Task SayAsync(string text, PointF? textPosition = default(PointF? ), PointF? portraitPosition = default(PointF? ))</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">text</span></td>
        <td><p>Text.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Nullable</span>&lt;<a class="xref" href="AGS.API.PointF.html">PointF</a>&gt;</td>
        <td><span class="parametername">textPosition</span></td>
        <td><p>Optional position (bottom-left by default, subscribe <a class="xref" href="AGS.API.ISayComponent.html#AGS_API_ISayComponent_OnBeforeSay">OnBeforeSay</a> and change the <a class="xref" href="AGS.API.IHasImage.html#AGS_API_IHasImage_Pivot">Pivot</a> of the label to override it) for where the text will be placed. 
If not provided, the engine will place the text above the character&apos;s head. 
The interface for selecting the default text position (if none is passed here) is <a class="xref" href="AGS.API.ISayLocationProvider.html">ISayLocationProvider</a> and you
can override it if needed to provide default text (and portrait) locations.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Nullable</span>&lt;<a class="xref" href="AGS.API.PointF.html">PointF</a>&gt;</td>
        <td><span class="parametername">portraitPosition</span></td>
        <td><p>Optional position for where the portrait will be placed (if there is a portrait configured).
If no position provided the engine will place the portrait based on the portrait configuration (<a class="xref" href="AGS.API.ISayConfig.html#AGS_API_ISayConfig_PortraitConfig">PortraitConfig</a>),
assuming there is a portrait configuration. 
The interface for selecting the default portrait position (if none is passed here) is <a class="xref" href="AGS.API.ISayLocationProvider.html">ISayLocationProvider</a> and you
can override it if needed to provide default portrait (and text) locations.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.Tasks.Task</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="AGS_API_ISayComponent_SayAsync_System_String_System_Nullable_AGS_API_PointF__System_Nullable_AGS_API_PointF___examples">Examples</h5>
  <pre><code class="lang-csharp">await cHero.SayAsync(&quot;&amp;17 Hello there!&quot;); //Will say &quot;Hello there!&quot; and will play &quot;JASO17.ogg&quot; (assuming the character name is &quot;Jason&quot; and JASO17.ogg exists in Assets/Speech/English)

Task waitForTalk = cHero.SayAsync(&quot;Walking Home!&quot;);
await cHero.WalkAsync(home); //character will walk and talk at the same time.
await waitForTalk; //Waiting for the talk to complete before moving to the next setnence.
await cHero.SayAsync(&quot;And, I&apos;m home!&quot;, (200, 100)); //The text for this sentence will be placed at co-ordinates (200, 100) instead of above the character&apos;s head.</code></pre>

  <h3 id="seealso">See Also</h3>
  <div class="seealso">
      <div><a class="xref" href="AGS.API.IComponent.html">IComponent</a></div>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/tzachshabtay/MonoAGS/new/NewEntities/apiSpec/new?filename=AGS_API_ISayComponent.md&amp;value=---%0Auid%3A%20AGS.API.ISayComponent%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/tzachshabtay/MonoAGS/blob/NewEntities/Source/AGS.API/Objects/Characters/Talking/ISayComponent.cs/#L9" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
