<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Render Layers | MonoAGS Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Render Layers | MonoAGS Documentation ">
    <meta name="generator" content="docfx 2.33.0.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="render-layers">Render Layers</h1>

<p>A render layer is an abstract grouping of objects with similar rendering properties. First and foremost, a render layer has a <code>Z</code> property for sorting which takes precedence over specific objects <code>Z</code> property.
This means that if you have a UI render layer which is configured to be in front of a Background render layer, all objects which are associated with the UI layer will always be in front of the objects that are associated
with the background layer, regardless of their <code>Z</code> property. The <code>Z</code> property of an object, is therefore used to sort object within the same render layer.</p>
<h2 id="built-in-layers">Built in layers</h2>
<p><code>MonoAGS</code> comes with a few built in layers that are used by default (Background, Foreground, UI and Speech).</p>
<h3 id="speech-layer">Speech Layer</h3>
<p>Speech layer is in front to ensure that displayed text can always be seen. This is the default layer used for <code>ICharacter.Say</code>.</p>
<h3 id="ui-layer">UI Layer</h3>
<p>UI layer is next, to ensure that it can always be seen (unless obstructed by text). This is the default layer used for all UI controls.</p>
<h3 id="foreground-layer">Foreground Layer</h3>
<p>This is followed by the Foreground layer, which is the default for all non UI objects.</p>
<h3 id="background-layer">Background Layer</h3>
<p>And lastly the Background layer, which is the default for the room&#39;s background graphics.</p>
<p>You can assign those layers yourself, using <code>AGSLayers</code>:</p>
<pre><code class="lang-csharp">cEgo.RenderLayer = AGSLayers.UI; //The player is now on the UI layer!
</code></pre><h2 id="additional-layer-properties">Additional Layer Properties</h2>
<p>In addition to sorting, a render layer offers a few more properties:</p>
<h3 id="parallax">Parallax</h3>
<p>Each layer can be assigned a <code>ParallaxSpeed</code> for achieving a <a href="https://en.wikipedia.org/wiki/Parallax">parallax</a> effect.</p>
<p>The speed is the factor by which the location is changed based to the normal speed. Giving different speeds for different layers creates the parallax effect which gives the illusion of 3D depth. This is mostly effective in scrolling screens, as the objects move in relation to the camera.
If the room scrolls horizontally (the majority of scrolling rooms), you&#39;d like to change the <code>X</code> value of the parallax speed.
If the room scrolls vertically (rare but can happen), you&#39;d like to change the <code>Y</code> value of the parallax speed.
All the default layers have parallax speed of 1 (i.e normal speed), so you&#39;ll need to create your own layers to enable the parallax effect.
The closer the object is to the front, the faster it should go, so it should have a bigger parallax speed.
Objects in the foreground should have values larger than 1, and objects in the background should have values smaller than 1.</p>
<pre><code class="lang-csharp">PointF parallaxSpeed = new PointF (1.4f, 1f); //all objects in this layer will move at a faster horizontal speed than the rest of the objects.
AGSRenderLayer parallaxForegroundLayer = new AGSRenderLayer(-50, parallaxSpeed); //This layer is positioned before the foreground layer and behind the UI layer.

myObjInFront.RenderLayer = parallaxForegroundLayer;
</code></pre><h3 id="independent-resolution">Independent Resolution</h3>
<p>You can assign a custom virtual resolution to a layer that will be used for all objects in this layer, which will be different than the default game&#39;s virtual resolution.
This can be used, for example, if you want specific objects (like characters) at a higher resolution than the background.
Note that since the resolution for this layer is different, the coordinate system will be different as well.</p>
<p>For example, let&#39;s assume the game resolution is (320,200):
The character is using the game&#39;s resolution, but the house in the room is in a layer with a (640,400) resolution. This means that if the character&#39;s position is (100,100) and the house&#39;s position is (200,200) they will actually be drawn in the same location.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/tzachshabtay/MonoAGS/blob/master/Docs/articles/render-layers.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
